/**
 * é—®å€™è¯­å·¥å…·å‡½æ•°
 * æ ¹æ®ä¸åŒæ—¶æ®µè¿”å›žä¸åŒçš„é—®å€™è¯­å’Œè¡¨æƒ…
 */

/**
 * èŽ·å–åŸºäºŽæ—¶é—´çš„é—®å€™è¯­å’Œè¡¨æƒ…
 * @returns {string} é—®å€™è¯­å’Œè¡¨æƒ…ç»„åˆ
 */
function getTimeBasedGreeting() {
  const now = new Date();
  const hour = now.getHours();

  const greetings = {
    // æ—©ä¸Š (6:00-11:59)
    morning: [
      'æ—©å®‰ï¼Œæ–°çš„ä¸€å¤©å¼€å§‹å•¦ â˜€ï¸',
      'æ—©å®‰ï¼Œä»Šå¤©ä¹Ÿè¦åŠ æ²¹å–” ðŸŒ…',
      'ðŸ¨ðŸ¨ðŸ¨',
      'ðŸŽ„ðŸŽ„ðŸŽ„',
      'ðŸ±ðŸ±ðŸ±',
      'ðŸ˜˜ðŸ˜˜ðŸ˜˜',
      'ðŸ¦­ðŸ¦­ðŸ¦­',
    ],

    // ä¸­åˆ (12:00-13:59)
    noon: [
      'åˆå®‰ï¼Œä¼‘æ¯ä¸€ä¸‹å§ ðŸµ',
      'åˆå®‰ï¼Œæ”¾æ¾ä¸€ä¸‹å§ ðŸŒ¿',
      'å¹²é¥­æ—¶é—´åˆ°! ðŸ²',
      'ðŸ¨ðŸ¨ðŸ¨',
      'ðŸŽ„ðŸŽ„ðŸŽ„',
      'ðŸ²ðŸ²ðŸ²',
      'ðŸ˜˜ðŸ˜˜ðŸ˜˜',
    ],

    // ä¸‹åˆ (14:00-17:59)
    afternoon: ['æ‘¸æ‘¸é±¼å§ ðŸŸ', 'ðŸ¨ðŸ¨ðŸ¨', 'ðŸŽ„ðŸŽ„ðŸŽ„', 'ðŸ±ðŸ±ðŸ±', 'ðŸ˜˜ðŸ˜˜ðŸ˜˜', 'ðŸŸðŸŸðŸŸ'],

    // å‚æ™š (18:00-22:59)
    evening: ['è¾›è‹¦å•¦ ðŸŒ™', 'ðŸ¨ðŸ¨ðŸ¨', 'ðŸŽ„ðŸŽ„ðŸŽ„', 'ðŸ±ðŸ±ðŸ±', 'ðŸ˜˜ðŸ˜˜ðŸ˜˜', 'ðŸ¦­ðŸ¦­ðŸ¦­'],

    // æ·±å¤œ (23:00-5:59)
    lateNight: [
      'å¤œæ·±äº†ï¼Œæ—©ç‚¹ä¼‘æ¯å–” ðŸ’¤',
      'æ™šå®‰ï¼Œå¥½æ¢¦ ðŸŒœ',
      'è®°å¾—æ—©ç‚¹ç¡è§‰å–” â­',
      'ðŸ¨ðŸ¨ðŸ¨',
      'ðŸŽ„ðŸŽ„ðŸŽ„',
      'ðŸ±ðŸ±ðŸ±',
      'ðŸ›ŒðŸ›ŒðŸ›Œ',
      'ðŸ’¤ðŸ’¤ðŸ’¤',
      'ðŸ˜˜ðŸ˜˜ðŸ˜˜',
    ],
  };

  // æ ¹æ®å½“å‰æ—¶é—´é€‰æ‹©åˆé€‚çš„é—®å€™è¯­æ± 
  let timePool;
  if (hour >= 6 && hour < 12) {
    // æ—©ä¸Š (6:00-11:59)
    timePool = greetings.morning;
  } else if (hour >= 12 && hour < 14) {
    // ä¸­åˆ (12:00-13:59)
    timePool = greetings.noon;
  } else if (hour >= 14 && hour < 18) {
    // ä¸‹åˆ (14:00-17:59)
    timePool = greetings.afternoon;
  } else if (hour >= 18 && hour < 23) {
    // å‚Œæ™š (18:00-22:59)
    timePool = greetings.evening;
  } else {
    // æ·±å¤œ (23:00-5:59)
    timePool = greetings.lateNight;
  }

  // ä»Žé€‰å®šçš„æ± ä¸­éšæœºé€‰æ‹©ä¸€ä¸ªé—®å€™è¯­
  const randomIndex = Math.floor(Math.random() * timePool.length);
  return timePool[randomIndex];
}

module.exports = {
  getTimeBasedGreeting,
};
