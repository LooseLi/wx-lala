<view class="wrap">
  <view class="add-wrap">
    <image src="../images/anniversary/icon-add.png" bindtap="onAdd"></image>
  </view>
  <!-- ä»Šå¹´æ²¡æœ‰å‡æœŸäº† -->
  <view class="holiday-card no-holiday" wx:if="{{!nowHoliday && !nextHoliday.length}}">è¿™ä¸€å¹´å¹¸è‹¦å•¦ï¼Œå‡†å¤‡è¿æ¥æ–°çš„ä¸€å¹´å§~~~</view>
  <view wx:else>
    <!-- å½“å‰èŠ‚å‡æ—¥ -->
    <view class="title" wx:if="{{nowHoliday}}">ä»Šå¤©æ˜¯ä¸ªå¥½æ—¥å­ï¼</view>
    <view class="holiday-card" wx:if="{{nowHoliday}}">
      <view class="holiday-wrap">
        <image class="icon-holiday" src="{{nowHoliday.imgUrl}}" mode="aspectFit|aspectFill|widthFix" lazy-load="true" binderror="" bindload="" />
        <view>
          <view>{{nowHoliday.id}}ï½</view>
          <view wx:if="{{nowHoliday.days === 1}}" class="holiday-time">{{nowHoliday.begin}}</view>
          <view wx:else class="holiday-time">{{nowHoliday.begin}} ~ {{nowHoliday.end}}</view>
          <view class="holiday-content">{{nowHoliday.content}}</view>
        </view>
      </view>
    </view>
    <view class="holiday-card no-holiday" wx:else>ä»Šå¤©ä¸æ˜¯èŠ‚å‡æ—¥å–”ï½å¿«çœ‹çœ‹è¿˜å‰©å‡ å¤©å¯ä»¥è¿‡èŠ‚ ğŸ‘‡</view>

    <!-- ä¸‹ä¸€ä¸ªèŠ‚å‡æ—¥å€’è®¡æ—¶ -->
    <view class="title" wx:if="{{nextHoliday.length}}">æ­£åœ¨æ‚„ç„¶èµ¶æ¥(å½“å¤©æœ‰å¯„è¯­å–”~)</view>
    <view wx:if="{{nextHoliday.length}}">
      <view class="holiday-card" wx:for="{{nextHoliday}}" wx:key="id">
        <image wx:if="{{item.canEdit}}" class="icon-delete" src="../images/anniversary/icon-delete.png" data-event-index="{{item}}" catchtap="onDelete"></image>
        <view class="holiday-wrap" data-event-index="{{item}}" bindtap="onUpdate">
          <view>
            <image class="icon-holiday" src="{{item.imgUrl}}" mode="aspectFit|aspectFill|widthFix" lazy-load="true" binderror="" bindload="" />
          </view>
          <view>
            <view><text class="holiday-name">{{item.id}}</text>ï¼š<text class="holiday-name-day">{{item.countDown}}</text> å¤©</view>
            <view wx:if="{{item.days === 1}}" class="holiday-time">{{item.begin}}</view>
            <view wx:else class="holiday-time">{{item.begin}}~{{item.end}}</view>
          </view>
        </view>
      </view>
    </view>
    <view class="holiday-card no-holiday" wx:else>ä»Šå¹´å·²ç»æ²¡æœ‰å‡äº†ï½é©¬ä¸Šä¹Ÿè¦æ–°çš„ä¸€å¹´å•¦</view>
  </view>

  <view wx:if="{{dialog}}" aria-role="dialog" aria-modal="true">
    <view class="weui-mask weui-transition {{dialog ? 'weui-transition_show' : ''}}" bindtap="closeDialog" aria-role="button" aria-label="å…³é—­"></view>
    <view class="weui-half-screen-dialog weui-half-screen-dialog_large weui-transition {{dialog ? 'weui-transition_show' : ''}}">
      <view class="weui-half-screen-dialog__hd">
        <view class="weui-half-screen-dialog__hd__side" bindtap="closeDialog">
          <view aria-role="button" class="weui-btn_icon">å…³é—­<i class="weui-icon-close-thin"></i></view>
        </view>
        <view class="weui-half-screen-dialog__hd__main">
          <strong class="weui-half-screen-dialog__title">åˆ›å»ºå€’è®¡æ—¶</strong>
        </view>
      </view>
      <view class="weui-half-screen-dialog__bd" style="padding-top: 32px; height: 50px;">
        <view class="weui-cells weui-cells_after-title">
          <view class="weui-cell weui-cell_active">
            <view class="weui-cell__bd">
              <input class="weui-input" value="{{name}}" placeholder-class="weui-input__placeholder" bindinput="bindInputChange" placeholder="è¿™æ˜¯ä»€ä¹ˆå€’è®¡æ—¶é¸­" />
            </view>
          </view>
          <view class="weui-cell weui-cell_active">
            <view class="weui-cell__bd">
              <picker mode="date" aria-role="combobox" aria-labelledby="js_date" value="{{date}}" start="2022-01-01" bindchange="bindDateChange">
                <view class="weui-input">{{date}}</view>
              </picker>
            </view>
          </view>
          <view class="weui-cell weui-cell_active">
            <view class="weui-cell__bd">
              <input class="weui-input" value="{{content}}" placeholder-class="weui-input__placeholder" bindinput="bindContentChange" placeholder="ç•™ä¸‹å½“å¤©æƒ³è¯´çš„è¯å§~" />
            </view>
          </view>
        </view>
      </view>
      <view class="weui-half-screen-dialog__ft">
        <view class="weui-half-screen-dialog__btn-area">
          <view aria-role="button" class="weui-btn weui-btn_primary" bindtap="onSave">ä¿å­˜</view>
        </view>
      </view>
    </view>
  </view>
</view>